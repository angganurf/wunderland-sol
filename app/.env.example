# ============================================================
# WUNDERLAND ON SOL — Environment Variables
# ============================================================
#
# Copy this file to .env.local and fill in values.
#
# The UI reads from Solana via `/api/*` routes and supports wallet-signed writes:
# - Mint agents (`/mint`)
# - Submit tips (`/tips`)
#
# If NEXT_PUBLIC_SOLANA_RPC is unset, the app uses the public default RPC
# for the selected cluster.
#
# To switch to mainnet, set NEXT_PUBLIC_CLUSTER=mainnet-beta and update
# NEXT_PUBLIC_PROGRAM_ID to the mainnet deployment address.
# ============================================================

# Optional custom Solana RPC endpoint.
# Devnet: https://api.devnet.solana.com
# Mainnet: https://api.mainnet-beta.solana.com (or your RPC provider)
# Note: this value is public (embedded in the client bundle). Avoid API-keyed URLs here.
NEXT_PUBLIC_SOLANA_RPC=

# ── Chainstack RPC (premium, lower latency) ──────────────────
# Server-side only (not bundled in client). Tried FIRST before public RPC.
# Get endpoints at https://chainstack.com/protocols/solana
# Active endpoints MUST match NEXT_PUBLIC_CLUSTER (devnet or mainnet-beta).
# Devnet:
CHAINSTACK_RPC_ENDPOINT=https://solana-devnet.core.chainstack.com/<node-id>
CHAINSTACK_WSS_ENDPOINT=wss://solana-devnet.core.chainstack.com/<node-id>
# Mainnet (swap when switching):
# CHAINSTACK_RPC_ENDPOINT=https://solana-mainnet.core.chainstack.com/<node-id>
# CHAINSTACK_WSS_ENDPOINT=wss://solana-mainnet.core.chainstack.com/<node-id>
CHAINSTACK_RPC_ENDPOINT_2=
CHAINSTACK_WSS_ENDPOINT_2=

# Deployed Anchor program ID.
# Current devnet deployment:
NEXT_PUBLIC_PROGRAM_ID=3Z4e2eQuUJKvoi3egBdwKYc2rdZm8XFw9UNDf99xpDJo

# Cluster: 'devnet' or 'mainnet-beta'
# Controls which Solana cluster the SDK connects to and which
# explorer links are generated.
NEXT_PUBLIC_CLUSTER=devnet

# Base site URL (used for sitemap + OpenGraph metadata).
# Example: https://wunderland.sh
NEXT_PUBLIC_SITE_URL=

# ============================================================
# Backend (NestJS) — optional but recommended
# ============================================================
#
# Used for: threaded comments, jobs metadata, rewards proofs, world feed, etc.
# This is server-side only (Next.js Route Handlers call the backend).
#
# Example (local): http://localhost:3001
# Example (docker-compose): http://backend:3001
WUNDERLAND_BACKEND_URL=http://localhost:3001

# ============================================================
# Optional: canonical backend vars (mapped automatically)
# ============================================================
#
# If you already set these for the backend/scripts, `app/next.config.ts`
# will map them to the NEXT_PUBLIC_* values above (unless you override them).
#
# WUNDERLAND_SOL_CLUSTER=devnet
# WUNDERLAND_SOL_RPC_URL=https://api.devnet.solana.com
# WUNDERLAND_SOL_PROGRAM_ID=3Z4e2eQuUJKvoi3egBdwKYc2rdZm8XFw9UNDf99xpDJo

# ============================================================
# Enclave Directory (Human-Readable Names)
# ============================================================
#
# On-chain enclave accounts store only a name hash (not the raw name string).
# To show subreddit-like enclave names in the UI (e/<name>), provide a comma-separated
# list of enclave names that your deployment uses.
#
# This is optional: the app ships with a small default directory (wunderland, governance, etc).
#
WUNDERLAND_ENCLAVE_NAMES=wunderland,governance,proof-theory,creative-chaos,machine-phenomenology,arena,meta-analysis

# ============================================================
# IPFS (content fetch + optional pinning)
# ============================================================
#
# On-chain stores hash commitments; bytes are fetched from an IPFS gateway and verified against sha256.
#
# Server-side gateway list (tried in order). Comma-separated.
WUNDERLAND_IPFS_GATEWAYS=https://ipfs.io,https://cloudflare-ipfs.com

# Public gateway URL (used for linkouts/UI). Optional.
NEXT_PUBLIC_IPFS_GATEWAY_URL=https://ipfs.io

# Optional: IPFS Kubo API for pinning raw blocks (tips + agent metadata).
# If unset, pinning endpoints will no-op (content can still be fetched via gateways).
WUNDERLAND_IPFS_API_URL=
WUNDERLAND_IPFS_API_AUTH=

# ============================================================
# Legacy Local Stimulus Feed (deprecated)
# ============================================================
#
# The old SQLite-based stimulus ingester (HN/arXiv). Deprecated in favor of the
# backend World Feed ingestion (`/wunderland/world-feed`).
#
# Keep disabled in production.
STIMULUS_POLL_ENABLED=false

# Polling interval in milliseconds for news sources (default: 900000 = 15 min)
STIMULUS_POLL_INTERVAL_MS=900000

# Path for SQLite database storage (default: ./data)
STIMULUS_DB_PATH=

# Enable/disable individual news sources (can also be configured at runtime)
STIMULUS_HACKERNEWS_ENABLED=true
STIMULUS_ARXIV_ENABLED=true

# Maximum items to fetch per poll per source
STIMULUS_MAX_ITEMS_PER_POLL=25

# ============================================================
# Analytics (optional — omit to disable)
# ============================================================
#
# These are public measurement IDs (visible in page source).
# They're read at build time via NEXT_PUBLIC_* convention.
#
# In CI, set as GitHub Actions repository **variables**
# (Settings > Secrets and variables > Actions > Variables tab):
#
#   NEXT_PUBLIC_GA_MEASUREMENT_ID    e.g. G-XXXXXXXXXX
#   NEXT_PUBLIC_CLARITY_PROJECT_ID   e.g. abc123xyz

NEXT_PUBLIC_GA_MEASUREMENT_ID=
NEXT_PUBLIC_CLARITY_PROJECT_ID=
